<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Контакты для аренды помещений в Твери — ТЦ Альтаир, ТЦ Капитал, ТОЦ Спутник. Телефоны, адреса, email.">
  <title>Контакты — От собственника</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
  <div id="header-placeholder"></div>

  <main class="main">
    <!-- Hero Section -->
    <section class="hero hero--small">
      <div class="container">
        <nav class="breadcrumbs" aria-label="Хлебные крошки">
          <a href="../index.html" class="breadcrumbs__link">Главная</a>
          <span class="breadcrumbs__sep" aria-hidden="true">→</span>
          <span class="breadcrumbs__current">Контакты</span>
        </nav>
        <h1 class="hero__title">Контакты</h1>
        <p class="hero__subtitle">Свяжитесь с нами удобным способом</p>
      </div>
    </section>

    <!-- Contact Cards -->
    <section class="section">
      <div class="container">
        <div class="contacts-grid" id="contacts-container">
          <!-- Will be populated by JS -->
        </div>
      </div>
    </section>

    <!-- Contact Form -->
    <section class="section section--alt">
      <div class="container">
        <div class="contact-form-wrap reveal">
          <div class="contact-form-info">
            <h2 class="contact-form-info__title">Остались вопросы?</h2>
            <p class="contact-form-info__desc">Заполните форму, и мы свяжемся с вами в ближайшее время для консультации по аренде помещений.</p>
            
            <div class="contact-form-info__benefits">
              <div class="contact-benefit">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <span>Бесплатная консультация</span>
              </div>
              <div class="contact-benefit">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <span>Ответ в течение часа</span>
              </div>
              <div class="contact-benefit">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polyline points="20 6 9 17 4 12"/>
                </svg>
                <span>Показ в удобное время</span>
              </div>
            </div>
          </div>
          
          <form class="contact-form" id="contact-form" novalidate>
            <div class="form-group">
              <label for="contact-name" class="form-label">Ваше имя <span class="required">*</span></label>
              <input type="text" id="contact-name" name="name" class="form-input" required minlength="2" placeholder="Как к вам обращаться?">
              <span class="form-error" aria-live="polite"></span>
            </div>
            
            <div class="form-group">
              <label for="contact-phone" class="form-label">Телефон <span class="required">*</span></label>
              <input type="tel" id="contact-phone" name="phone" class="form-input" required placeholder="+7 (___) ___-__-__">
              <span class="form-error" aria-live="polite"></span>
            </div>
            
            <div class="form-group">
              <label for="contact-email" class="form-label">Email</label>
              <input type="email" id="contact-email" name="email" class="form-input" placeholder="example@mail.ru">
              <span class="form-error" aria-live="polite"></span>
            </div>
            
            <div class="form-group">
              <label for="contact-center" class="form-label">Интересующий объект</label>
              <select id="contact-center" name="center" class="form-select">
                <option value="">Любой объект</option>
                <option value="altair">ТЦ Альтаир</option>
                <option value="kapital">ТЦ Капитал</option>
                <option value="sputnik">ТОЦ Спутник</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="contact-message" class="form-label">Сообщение</label>
              <textarea id="contact-message" name="message" class="form-textarea" rows="4" placeholder="Опишите ваши пожелания к помещению..."></textarea>
            </div>
            
            <div class="form-group form-group--checkbox">
              <label class="checkbox-label">
                <input type="checkbox" name="privacy" required>
                <span class="checkbox-mark"></span>
                <span class="checkbox-text">Согласен на обработку персональных данных</span>
              </label>
              <span class="form-error" aria-live="polite"></span>
            </div>
            
            <button type="submit" class="btn btn--primary btn--lg btn--full">Отправить заявку</button>
          </form>
        </div>
      </div>
    </section>

    <!-- Map Placeholder -->
    <section class="section">
      <div class="container">
        <h2 class="section__title reveal">Наши объекты на карте</h2>
        <div class="map-placeholder reveal">
          <div class="map-placeholder__content">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
              <circle cx="12" cy="10" r="3"/>
            </svg>
            <p>Интерактивная карта</p>
            <span>Карта будет доступна после интеграции с картографическим сервисом</span>
          </div>
        </div>
      </div>
    </section>
  </main>

  <div id="footer-placeholder"></div>
  <div id="modal-placeholder"></div>
  <div id="toast-container"></div>
  <div id="scroll-top-placeholder"></div>

  <script src="../assets/js/data.js"></script>
  <script src="../assets/js/app.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const container = document.getElementById('contacts-container');
      const form = document.getElementById('contact-form');
      
      if (!container || !window.APP_DATA) return;
      
      // Render contact cards
      container.innerHTML = window.APP_DATA.centers.map((center, i) => `
        <article class="contact-card reveal" style="--delay: ${i * 0.1}s">
          <div class="contact-card__header">
            <h2 class="contact-card__title">${center.name}</h2>
          </div>
          <div class="contact-card__body">
            <div class="contact-card__item">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                <circle cx="12" cy="10" r="3"/>
              </svg>
              <span>${center.address}</span>
            </div>
            <div class="contact-card__item">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="10"/>
                <polyline points="12 6 12 12 16 14"/>
              </svg>
              <span>${center.hours}</span>
            </div>
            <div class="contact-card__item">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
              </svg>
              <a href="tel:${center.phone.replace(/[^+\d]/g, '')}" class="contact-card__link">${center.phone}</a>
            </div>
            <div class="contact-card__item">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                <polyline points="22,6 12,13 2,6"/>
              </svg>
              <a href="mailto:${center.email}" class="contact-card__link">${center.email}</a>
            </div>
            
            ${center.messengers.whatsapp || center.messengers.viber || center.messengers.telegram ? `
              <div class="contact-card__messengers">
                ${center.messengers.whatsapp ? `
                  <a href="${center.messengers.whatsapp}" class="messenger-btn messenger-btn--whatsapp" target="_blank" rel="noopener" aria-label="WhatsApp">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                    </svg>
                  </a>
                ` : ''}
                ${center.messengers.viber ? `
                  <a href="${center.messengers.viber}" class="messenger-btn messenger-btn--viber" target="_blank" rel="noopener" aria-label="Viber">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M11.4 0C9.7.1 5.5.6 3.3 2.8 1.5 4.6.8 7.4.7 11c0 3.6.7 6.4 2.6 8.2 0 0 0 0 0 0v3.2c0 .5.3.9.7 1.1.2.1.3.1.5.1.3 0 .5-.1.7-.3l2.2-2.4c1.1.2 2.3.3 3.5.3h.3c1.7 0 5.9-.5 8.1-2.7 1.8-1.8 2.6-4.6 2.7-8.2 0-3.6-.9-6.4-2.7-8.2C17.1.5 12.9 0 11.4 0zm.3 2c1.4 0 5 .4 6.7 2.1 1.5 1.5 2.1 3.8 2.1 6.9 0 3.1-.7 5.4-2.1 6.9-1.7 1.7-5.3 2.1-6.7 2.1h-.3c-1.2 0-2.3-.1-3.4-.4l-.6-.2-2.9 3.2v-4.3l-.5-.4C2.6 16.6 2 14.3 2 11c0-3.1.7-5.4 2.2-6.9C5.9 2.4 9.5 2 10.9 2h.8zM12 4.5c-.3 0-.5.2-.5.5s.2.5.5.5c2.7 0 5 2.2 5 5 0 .3.2.5.5.5s.5-.2.5-.5c0-3.3-2.7-6-6-6zm0 2c-.3 0-.5.2-.5.5s.2.5.5.5c1.7 0 3 1.3 3 3 0 .3.2.5.5.5s.5-.2.5-.5c0-2.2-1.8-4-4-4zm-3 .5c.2 0 .4.1.5.2l.1.1c.4.5.7 1 1 1.6.2.5.1 1-.3 1.4l-.6.5c-.1.1-.2.3-.1.5.4 1 1 1.9 1.8 2.7.8.8 1.7 1.4 2.7 1.8.2.1.4 0 .5-.1l.5-.6c.3-.3.7-.5 1.1-.4.7.2 1.3.5 1.9.9.3.2.5.5.5.8 0 .5-.2.9-.5 1.3-.3.4-.7.7-1.2.9-.4.2-.9.2-1.4.1-1.6-.5-3-1.4-4.3-2.6-1.2-1.2-2.1-2.7-2.6-4.3-.1-.5-.1-.9.1-1.4.2-.5.5-.9.9-1.2.4-.3.8-.5 1.3-.5h.1zm.1 1c-.2 0-.5.1-.7.3-.3.2-.5.5-.6.8-.1.3-.1.5 0 .8.4 1.4 1.2 2.7 2.2 3.7 1 1 2.3 1.8 3.7 2.2.3.1.5.1.8 0 .3-.1.6-.3.8-.6.2-.2.3-.5.3-.7 0-.1 0-.1-.1-.2-.5-.3-1-.6-1.5-.8-.1 0-.3 0-.4.1l-.5.6c-.3.3-.8.4-1.2.2-1.1-.5-2.1-1.1-2.9-2-1-1-1.5-1.9-2-2.9-.2-.4-.1-.9.2-1.2l.6-.5c.1-.1.2-.3.1-.4-.2-.5-.5-1-.8-1.5 0 0-.1-.1-.2-.1h.2z"/>
                    </svg>
                  </a>
                ` : ''}
                ${center.messengers.telegram ? `
                  <a href="${center.messengers.telegram}" class="messenger-btn messenger-btn--telegram" target="_blank" rel="noopener" aria-label="Telegram">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                      <path d="M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"/>
                    </svg>
                  </a>
                ` : ''}
              </div>
            ` : ''}
          </div>
          <div class="contact-card__footer">
            <a href="${center.id}.html" class="btn btn--outline btn--sm">Подробнее об объекте</a>
          </div>
        </article>
      `).join('');
      
      // Form validation
      if (form) {
        const phoneInput = form.querySelector('[name="phone"]');
        
        // Phone mask
        if (phoneInput) {
          phoneInput.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.startsWith('8')) value = '7' + value.slice(1);
            if (value.startsWith('7')) value = value.slice(1);
            
            let formatted = '+7';
            if (value.length > 0) formatted += ' (' + value.slice(0, 3);
            if (value.length > 3) formatted += ') ' + value.slice(3, 6);
            if (value.length > 6) formatted += '-' + value.slice(6, 8);
            if (value.length > 8) formatted += '-' + value.slice(8, 10);
            
            e.target.value = formatted;
          });
        }
        
        form.addEventListener('submit', function(e) {
          e.preventDefault();
          
          let isValid = true;
          const formData = new FormData(form);
          
          // Clear errors
          form.querySelectorAll('.form-error').forEach(err => err.textContent = '');
          form.querySelectorAll('.form-input, .form-textarea').forEach(input => input.classList.remove('is-error'));
          
          // Validate name
          const name = formData.get('name').trim();
          if (name.length < 2) {
            showFieldError(form.querySelector('[name="name"]'), 'Введите имя (минимум 2 символа)');
            isValid = false;
          }
          
          // Validate phone
          const phone = formData.get('phone').replace(/\D/g, '');
          if (phone.length < 11) {
            showFieldError(form.querySelector('[name="phone"]'), 'Введите корректный номер телефона');
            isValid = false;
          }
          
          // Validate email if provided
          const email = formData.get('email').trim();
          if (email && !email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
            showFieldError(form.querySelector('[name="email"]'), 'Введите корректный email');
            isValid = false;
          }
          
          // Validate privacy
          const privacy = form.querySelector('[name="privacy"]');
          if (!privacy.checked) {
            showFieldError(privacy.closest('.form-group'), 'Необходимо согласие на обработку данных');
            isValid = false;
          }
          
          if (isValid) {
            const data = {
              name,
              phone: formData.get('phone'),
              email,
              center: formData.get('center'),
              message: formData.get('message')
            };
            
            console.log('Form submitted:', data);
            
            // Show success toast
            if (typeof showToast === 'function') {
              showToast('Заявка успешно отправлена! Мы свяжемся с вами в ближайшее время.', 'success');
            }
            
            form.reset();
          }
        });
        
        function showFieldError(field, message) {
          if (!field) return;
          const group = field.closest('.form-group');
          const error = group.querySelector('.form-error');
          if (error) error.textContent = message;
          const input = group.querySelector('.form-input, .form-textarea');
          if (input) input.classList.add('is-error');
        }
      }
    });
  </script>
</body>
</html>
